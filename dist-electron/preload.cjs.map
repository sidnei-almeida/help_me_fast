{
  "version": 3,
  "sources": ["../electron/preload.ts"],
  "sourcesContent": ["import { contextBridge, ipcRenderer } from 'electron'\n\nexport interface VaultAPI {\n  selectFolder: () => Promise<string | null>\n  selectImage: () => Promise<string | null>\n  saveAvatar: (vaultPath: string, imageData: string) => Promise<{ success: boolean; avatarPath?: string; error?: string }>\n  loadAvatar: (vaultPath: string) => Promise<string | null>\n  readFile: (filePath: string) => Promise<{ success: boolean; data?: unknown; error?: string }>\n  writeFile: (filePath: string, data: unknown) => Promise<{ success: boolean; error?: string }>\n  fileExists: (filePath: string) => Promise<{ exists: boolean }>\n  initVault: (vaultPath: string) => Promise<{ success: boolean; error?: string }>\n}\n\nexport interface HistoryAPI {\n  addEntry: (vaultPath: string, entry: { date: string; weight?: number; photoBase64?: string; notes?: string }) => Promise<{ success: boolean; entry?: any; error?: string }>\n  getAll: (vaultPath: string) => Promise<{ success: boolean; entries?: any[]; error?: string }>\n  deleteEntry: (vaultPath: string, entryId: string) => Promise<{ success: boolean; error?: string }>\n}\n\nexport interface WindowAPI {\n  minimize: () => void\n  maximize: () => void\n  close: () => void\n  isMaximized: () => Promise<boolean>\n  onMaximizedChanged: (callback: (isMaximized: boolean) => void) => () => void\n}\n\nexport interface SettingsAPI {\n  getLastVault: () => Promise<string | null>\n  setLastVault: (vaultPath: string) => Promise<{ success: boolean; error?: string }>\n}\n\ncontextBridge.exposeInMainWorld('electronAPI', {\n  platform: process.platform,\n  vault: {\n    selectFolder: () => ipcRenderer.invoke('dialog:openDirectory'),\n    selectImage: () => ipcRenderer.invoke('dialog:select-image'),\n    saveAvatar: (vaultPath: string, imageData: string) => ipcRenderer.invoke('vault:save-avatar', vaultPath, imageData),\n    loadAvatar: (vaultPath: string) => ipcRenderer.invoke('user:load-avatar', vaultPath),\n    readFile: (filePath: string) => ipcRenderer.invoke('vault:read-file', filePath),\n    writeFile: (filePath: string, data: unknown) => ipcRenderer.invoke('vault:write-file', filePath, data),\n    fileExists: (filePath: string) => ipcRenderer.invoke('vault:file-exists', filePath),\n    initVault: (vaultPath: string) => ipcRenderer.invoke('vault:init-vault', vaultPath),\n  } as VaultAPI,\n  history: {\n    addEntry: (vaultPath: string, entry: any) => ipcRenderer.invoke('history:add-entry', vaultPath, entry),\n    getAll: (vaultPath: string) => ipcRenderer.invoke('history:get-all', vaultPath),\n    deleteEntry: (vaultPath: string, entryId: string) => ipcRenderer.invoke('history:delete-entry', vaultPath, entryId),\n  } as HistoryAPI,\n  window: {\n    minimize: () => ipcRenderer.send('window:minimize'),\n    maximize: () => ipcRenderer.send('window:maximize'),\n    close: () => ipcRenderer.send('window:close'),\n    isMaximized: () => ipcRenderer.invoke('window:is-maximized'),\n    onMaximizedChanged: (callback: (isMaximized: boolean) => void) => {\n      const handler = (_event: any, value: boolean) => callback(value)\n      ipcRenderer.on('window:maximized-changed', handler)\n      return () => ipcRenderer.removeListener('window:maximized-changed', handler)\n    },\n  } as WindowAPI,\n  settings: {\n    getLastVault: () => ipcRenderer.invoke('settings:get-last-vault'),\n    setLastVault: (vaultPath: string) => ipcRenderer.invoke('settings:set-last-vault', vaultPath),\n  } as SettingsAPI,\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,sBAA2C;AAgC3C,8BAAc,kBAAkB,eAAe;AAAA,EAC7C,UAAU,QAAQ;AAAA,EAClB,OAAO;AAAA,IACL,cAAc,MAAM,4BAAY,OAAO,sBAAsB;AAAA,IAC7D,aAAa,MAAM,4BAAY,OAAO,qBAAqB;AAAA,IAC3D,YAAY,CAAC,WAAmB,cAAsB,4BAAY,OAAO,qBAAqB,WAAW,SAAS;AAAA,IAClH,YAAY,CAAC,cAAsB,4BAAY,OAAO,oBAAoB,SAAS;AAAA,IACnF,UAAU,CAAC,aAAqB,4BAAY,OAAO,mBAAmB,QAAQ;AAAA,IAC9E,WAAW,CAAC,UAAkB,SAAkB,4BAAY,OAAO,oBAAoB,UAAU,IAAI;AAAA,IACrG,YAAY,CAAC,aAAqB,4BAAY,OAAO,qBAAqB,QAAQ;AAAA,IAClF,WAAW,CAAC,cAAsB,4BAAY,OAAO,oBAAoB,SAAS;AAAA,EACpF;AAAA,EACA,SAAS;AAAA,IACP,UAAU,CAAC,WAAmB,UAAe,4BAAY,OAAO,qBAAqB,WAAW,KAAK;AAAA,IACrG,QAAQ,CAAC,cAAsB,4BAAY,OAAO,mBAAmB,SAAS;AAAA,IAC9E,aAAa,CAAC,WAAmB,YAAoB,4BAAY,OAAO,wBAAwB,WAAW,OAAO;AAAA,EACpH;AAAA,EACA,QAAQ;AAAA,IACN,UAAU,MAAM,4BAAY,KAAK,iBAAiB;AAAA,IAClD,UAAU,MAAM,4BAAY,KAAK,iBAAiB;AAAA,IAClD,OAAO,MAAM,4BAAY,KAAK,cAAc;AAAA,IAC5C,aAAa,MAAM,4BAAY,OAAO,qBAAqB;AAAA,IAC3D,oBAAoB,CAAC,aAA6C;AAChE,YAAM,UAAU,CAAC,QAAa,UAAmB,SAAS,KAAK;AAC/D,kCAAY,GAAG,4BAA4B,OAAO;AAClD,aAAO,MAAM,4BAAY,eAAe,4BAA4B,OAAO;AAAA,IAC7E;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,cAAc,MAAM,4BAAY,OAAO,yBAAyB;AAAA,IAChE,cAAc,CAAC,cAAsB,4BAAY,OAAO,2BAA2B,SAAS;AAAA,EAC9F;AACF,CAAC;",
  "names": []
}
